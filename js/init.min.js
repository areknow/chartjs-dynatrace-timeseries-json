function buildChart(r,e,a){{var o=document.getElementById("chart"),n={labels:e,datasets:[{label:r,fill:!0,lineTension:.1,backgroundColor:colorTransparent,borderColor:color,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:color,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:color,pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:a,spanGaps:!1}]};new Chart(o,{type:chart,data:n,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:anim},legend:{display:legendShow,position:legendPosition,labels:{boxWidth:legendBoxWidth,fontStyle:"bold"}}}})}}function getParams(){if($.url().param("height")&&(height=$.url().param("height"),$(".chart_wrapper").css("height",height)),$.url().param("width")&&(width=$.url().param("width"),$(".chart_wrapper").css("width",width)),$.url().param("res")&&(res=$.url().param("res")),$.url().param("color"))switch(colorChoice=$.url().param("color")){case"blue":color=colors.blue,colorTransparent=colorsTransparent.blueTransparent;break;case"lime":color=colors.lime,colorTransparent=colorsTransparent.limeTransparent;break;case"green":color=colors.green,colorTransparent=colorsTransparent.greenTransparent;break;case"purple":color=colors.purple,colorTransparent=colorsTransparent.purpleTransparent;break;case"red":color=colors.red,colorTransparent=colorsTransparent.redTransparent;break;case"gray":color=colors.gray,colorTransparent=colorsTransparent.grayTransparent}$.url().param("hex")&&(hex=$.url().param("hex"),color=hex2rgb(hex,1),colorTransparent=hex2rgb(hex,.5)),$.url().param("anim")&&(animChoice=$.url().param("anim"),"false"==animChoice&&(anim=0),"true"==animChoice&&(anim=500)),$.url().param("type")&&(type=$.url().param("type"),chart=type),$.url().param("legend")&&(legendBoolean=$.url().param("legend"),"true"==legendBoolean&&(legendShow=!0),"false"==legendBoolean&&(legendShow=!1)),$.url().param("legendpos")&&(position=$.url().param("legendpos"),legendPosition=position),$.url().param("legendsize")&&(size=$.url().param("legendsize"),legendBoxWidth=parseInt(size))}function convertTime(r){var e=new Date(r),a=e.format("h:i");return a}function hex2rgb(r,e){var a=r.replace("#","");a=a.match(new RegExp("(.{"+a.length/3+"})","g"));for(var o=0;o<a.length;o++)a[o]=parseInt(1==a[o].length?a[o]+a[o]:a[o],16);return"undefined"!=typeof e&&a.push(e),"rgba("+a.join(",")+")"}function pickRandomProperty(r){var e,a=0;for(var o in r)Math.random()<1/++a&&(e=o);return e}var times=[],points=[],appid,application,height,width,chartType,res=2,anim=0,chart="line",legendShow=!0,legendPosition="bottom",legendBoxWidth=50,color="rgba(75,192,192, 1)",colorTransparent="rgba(75,192,192, 0.5)",colors={blue:"rgba(20, 150, 255, 1)",lime:"rgba(180, 220, 0, 1)",green:"rgba(115, 190, 40, 1)",purple:"rgba(111, 45, 168, 1)",red:"rgb(168, 45, 45)",gray:"rgba(26, 26, 26, 1)"},colorsTransparent={blueTransparent:"rgba(20, 150, 255, 0.5)",limeTransparent:"rgba(180, 220, 0, 0.5)",greenTransparent:"rgba(115, 190, 40, 0.5)",purpleTransparent:"rgba(111, 45, 168, 0.5)",redTransparent:"rgba(168, 45, 45, 0.5)",grayTransparent:"rgba(26, 26, 26, 0.5)"};$(function(){getParams();var r=pickRandomProperty(colors),e=r+"Transparent";color=colors[r],colorTransparent=colorsTransparent[e],$.getJSON("data/1app.json",function(r){console.log(r),$.each(r.result.dataPoints,function(r,e){appid=r,$.each(e,function(r,e){r%res==0&&(null!=e[0]&&times.push(convertTime(e[0])),null!=e[1]&&points.push(e[1].round(2)))})}),$.each(r.result.entities,function(r,e){r==appid&&(application=e.split(" - ")[0])}),buildChart(application,times,points)})}),Number.prototype.round=function(r){return+(Math.round(this+"e+"+r)+"e-"+r)};
//# sourceMappingURL=init.min.js.map